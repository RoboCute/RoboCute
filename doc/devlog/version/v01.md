# Robocute V0.1 MVP

**开发周期**: 2024年11月 - 2024年11月30日  
**状态**: ✅ 已完成

## 概述

Robocute V0.1 的目标是最小可用原型 (Minimum Valuable Prototype)，旨在最快速地将原始构想组件拼接起来（Python Server + LuisaCompute Backend + Qt UI），实现一个本地3D版本的ComfyUI程序。

## 计划目标

主要的工作量集中在：

### 技术选型验证
- ✅ 探索Qt和LuisaCompute是否可以比较容易地使用QRhi进行嵌入
- ✅ 探索ComfyUI-Like的前后端框架与Qt的NodeEditor框架是否能组合
- ✅ 探索一套基于python反射和xmake的高效codebase开发框架

### 核心模块开发
- ✅ Codebase基础框架
- ✅ Editor基础实现
- ✅ NodeGraph原型部分

## 实现情况

### 最小价值产品(Minimal Valuable Product) - 核心目标

通过**编辑器驱动的拖放式交互**跑通完整的算法构建和可视化pipeline：

1. ✅ **场景准备**: PythonServer加载场景和资源，并注册节点，在最小价值产品中，我们将会生成指定的Entity按给定的角速度绕给定的原点和半径旋转的给定帧数动画
2. ✅ **拖放式连接**: 从编辑器场景视图拖拽Entity到NodeGraph节点输入端口
3. ✅ **节点图构建**: 在NodeGraph中连接算法节点（如旋转动画生成器）
4. ✅ **执行计算**: PythonServer从Editor中同步初始值（当前场景），执行节点图，生成AnimSequence结果
5. ✅ **结果展示**: 在Result面板中，能找到从PythonServer端同步过来的Transform动画，点击之后出现时间轴和播放/暂停按钮，点击播放可以播放结果动画

### 已实现功能

#### Python Backend (robocute)
- ✅ 基础节点系统框架 (`RBCNode`, `NodeRegistry`)
- ✅ 节点图执行引擎 (`GraphExecutor`, `NodeGraph`)
- ✅ 场景管理系统 (`Scene`, `Entity`, `Component`)
- ✅ 动画系统基础 (`AnimationClip`, `AnimationSequence`)
- ✅ HTTP服务器 (`EditorService`, `NodeGraphService`)
- ✅ 基础节点实现:
  - `EntityInputNode` - 实体输入
  - `RotationAnimationNode` - 旋转动画生成
  - `AnimationOutputNode` - 动画输出

#### C++ Editor (rbc_editor)
- ✅ Qt6 + QRhi 集成
- ✅ 基础UI布局 (MainWindow, DockWidgets)
- ✅ NodeEditor集成 (基于QtNodes)
- ✅ Scene Hierarchy视图
- ✅ Details属性面板
- ✅ Result结果面板
- ✅ Animation Player动画播放器
- ✅ HTTP Client与Python Server通信
- ✅ 实体拖放到节点图功能

#### C++ Runtime (rbc_runtime)
- ✅ 基础ECS系统
- ✅ Transform组件
- ✅ 资源管理框架
- ✅ Python绑定基础 (pybind11)

## 技术成果

### 架构验证
1. ✅ **Python-First架构**: 成功验证了Python作为核心逻辑层，C++作为可视化层的架构可行性
2. ✅ **Server-Client模式**: HTTP REST API通信模式运行稳定
3. ✅ **Qt + LuisaCompute集成**: QRhi成功嵌入LuisaCompute渲染后端
4. ✅ **节点图可视化编辑**: QtNodes库成功集成，支持拖放和连接

### 开发工具链
1. ✅ **xmake构建系统**: 跨平台构建配置完成
2. ✅ **Python codegen原型**: 初步实现C++到Python的绑定代码生成
3. ✅ **模块化设计**: 清晰的模块划分 (core, runtime, editor, ext_c)

## 遗留问题与后续改进

### 需要重构的部分
- ⚠️ Python codegen流程需要重构和标准化
- ⚠️ 场景序列化/反序列化机制不完善
- ⚠️ 资源管理系统需要更完善的导入导出流程
- ⚠️ Editor UI代码耦合度较高，需要解耦

### 功能缺失
- ❌ 缺少光栅渲染器（网格线、选择描边等）
- ❌ 缺少相机控制
- ❌ 缺少完整的资源导入流程（GLTF等）
- ❌ 缺少动画图（AnimGraph）支持

## 里程碑意义

V0.1 MVP成功验证了RoboCute的核心理念：
- ✅ Python-First的3D工具开发是可行的
- ✅ ComfyUI式的节点工作流可以应用到3D领域
- ✅ 桌面端编辑器相比Web有明显的性能和交互优势
- ✅ 为后续的重构和功能扩展奠定了坚实基础

**完成日期**: 2024年11月30日

---

*详细的Editor实现文档请参考: [Editor V0.1](../editor/EditorV01.md)*

